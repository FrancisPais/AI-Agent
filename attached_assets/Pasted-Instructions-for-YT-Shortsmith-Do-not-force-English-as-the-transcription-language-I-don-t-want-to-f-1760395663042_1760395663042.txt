Instructions for YT Shortsmith

Do not force English as the transcription language
I don't want to force the language to be English for all videos. Keep automatic speech language detection so the system transcribes and subtitles in whatever language is actually spoken. This was already working well; keep it that way.

Acceptance criteria

If the source audio is Portuguese, subtitles and processing are in Portuguese.

If the source audio is English, subtitles and processing are in English.

No hard-coded language defaults that override detection.

The detected language is stored alongside the transcript for downstream use.

Implementation notes

Keep Whisper auto language detection enabled.

Do not pass a fixed language parameter unless the user explicitly sets one.

Preserve the detected language in metadata so any LLM prompts or scoring use the same language.

Improve intro skipping with chapters
You currently skip a fixed 180 seconds to bypass introductions. Change this: when YouTube chapters are present and the first chapter is the introduction, skip only the first chapter, not 180 seconds. If no chapters exist, or the first chapter is not an intro, keep the current 180-second fallback.

Acceptance criteria

When chapters exist and chapter 1 is an intro, start processing at the end timestamp of chapter 1.

When chapters do not exist, or chapter 1 is not an intro, use the 180-second skip as a fallback.

Never skip past the start of chapter 2 if chapter 1 is shorter than 180 seconds.

Behavior is consistent across languages.

Implementation notes

Read chapter metadata from yt-dlp results.

Treat “intro” detection case-insensitively and language-aware. Examples to match include: intro, introduction, opening, apresentação, introdução, apertura, inicio, inicio del vídeo, etc. Also allow heuristics like chapter 1 title length < 20 chars containing these roots, or titles like “Welcome”, “Trailer”, “Credits”.

If language detection from Whisper is available, prefer a keyword list for that language first, then fall back to English keywords.

If there is ambiguity (no match), use the fixed skip.